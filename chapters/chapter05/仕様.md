### SoundscapeOdyssey: 音楽ストリーミングアプリ 仕様書

---

#### 概要

SoundscapeOdyssey は、ユーザーが音楽をストリーミングし、いいねした楽曲を管理するためのシンプルな音楽ストリーミングアプリです。

#### 要件定義

##### 1. ユーザー管理

- **ユーザー登録**
  - Google アカウントを使用してアカウントを作成できる。
  - 登録成功後、ユーザーはダッシュボードにリダイレクトされる。
- **ユーザーログイン**
  - Google アカウントでログインが可能。
  - ログイン成功後、ダッシュボードにリダイレクトされる。

##### 2. 音楽ストリーミング

- **楽曲検索**
  - 楽曲名やアーティスト名で楽曲を検索できる。
  - 検索結果はリストで表示され、ユーザーはリストから楽曲を選択できる。
- **楽曲再生**
  - 楽曲を選択して再生できる。
  - 再生、一時停止、スキップ、巻き戻しなどの基本的な再生コントロールが可能。
  - 再生中の楽曲情報（タイトル、アーティスト、再生時間）が表示される。

##### 3. いいね機能

- **いいねした楽曲の管理**
  - 楽曲に「いいね」を付けることができる。
  - いいねした楽曲のリストを表示できる。
  - いいねした楽曲をリストから削除できる。
  - 楽曲詳細ページからいいねを追加または削除できる。

##### 4. 管理画面機能

- **ユーザー管理**

  - 管理者は全ユーザーのリストを表示できる。
  - ユーザーのアカウントを有効化・無効化できる。
  - ユーザーのいいねした楽曲を確認・削除できる。

- **楽曲管理**
  - 管理者は全楽曲のリストを表示できる。
  - 楽曲を追加・削除できる。
  - 楽曲情報（タイトル、アーティスト名、アルバムアート）を編集できる。

#### 機能詳細

##### ユーザー管理機能詳細

- **ユーザー登録**
  - Google アカウントを使用して登録。
- **ユーザーログイン**
  - Google アカウントでの認証を実施。

##### 音楽ストリーミング機能詳細

- **楽曲検索**
  - 検索バーにキーワードを入力し検索ボタンをクリックして検索結果ページに遷移する。
  - 結果リストには楽曲タイトル、アーティスト名、アルバムアートが含まれる。
- **楽曲再生**
  - 楽曲詳細ページから再生ボタンを押して再生を開始。
  - 再生コントロールバーを表示し、再生、一時停止、スキップ、巻き戻しが可能。
  - 再生中の楽曲情報を表示し、進行状況バーで再生時間を表示。

##### いいね機能詳細

- **いいねした楽曲の管理**
  - 楽曲詳細ページまたは検索結果から楽曲に「いいね」ボタンを押していいねを追加。
  - ダッシュボードまたは専用ページで、いいねした楽曲のリストを表示。
  - いいねした楽曲のリストから削除ボタンを押して楽曲を削除。
  - リスト表示には楽曲タイトル、アーティスト名、アルバムアートが含まれる。

##### 管理画面機能詳細

- **ユーザー管理**
  - 管理者は管理画面で全ユーザーのリストを表示。
  - 各ユーザーのいいねした楽曲のリストを表示・削除する機能を提供。
- **楽曲管理**
  - 管理者は全楽曲のリストを管理画面で表示。
  - 新しい楽曲を追加するフォームを提供。
  - 既存の楽曲の削除ボタンを表示。
  - 楽曲情報を編集する機能を提供（タイトル、アーティスト名、アルバムアート）。

#### 実装

##### 使用技術

- **フロントエンド**: SvelteKit
- **バックエンド**: Prisma (SQLite 使用)

##### 機能別実装概要

1. **ユーザー管理**
   - Google ログインフォームの作成。
2. **音楽ストリーミング**
   - 楽曲検索機能の実装。
   - 楽曲再生用コンポーネントの作成。
3. **いいね機能**
   - いいね機能の追加、削除、表示用コンポーネントの作成。
4. **管理画面**
   - 管理画面の作成。
   - ユーザー管理機能の実装。
   - 楽曲管理機能の実装。

##### テスト使用ツール

- Jest

### デザイン

#### カラーコード

- **メインカラー**: 青 (#007BFF)
- **サブカラー**: 薄い青 (#6CB2FF)
- **アクセントカラー**: 濃い青 (#004085)
- **背景カラー**: 白 (#FFFFFF)
- **テキストカラー**: 濃い灰色 (#343A40)
- **サブテキストカラー**: 灰色 (#6C757D)

#### タイポグラフィ

- **フォントファミリー**:
  - プライマリーフォント: 'Roboto', sans-serif
  - セカンダリーフォント: 'Open Sans', sans-serif
- **フォントサイズ**:
  - 見出し 1 (H1): 2.5rem
  - 見出し 2 (H2): 2rem
  - 見出し 3 (H3): 1.75rem
  - 見出し 4 (H4): 1.5rem
  - 見出し 5 (H5): 1.25rem
  - 見出し 6 (H6): 1rem
  - ボディーテキスト: 1rem
  - 小さいテキスト: 0.875rem

#### コンポーネントスタイル

##### ボタン

- **プライマリーボタン**:
  - 背景カラー: メインカラー (#007BFF)
  - テキストカラー: 白 (#FFFFFF)
  - ボーダー: なし
  - ボーダーラディウス: 4px
  - パディング: 10px 20px
  - ホバー時背景カラー: 濃い青 (#004085)
- **セカンダリーボタン**:
  - 背景カラー: サブカラー (#6CB2FF)
  - テキストカラー: 白 (#FFFFFF)
  - ボーダー: なし
  - ボーダーラディウス: 4px
  - パディング: 10px 20px
  - ホバー時背景カラー: メインカラー (#007BFF)

##### 入力フォーム

- **入力フィールド**:
  - 背景カラー: 白 (#FFFFFF)
  - ボーダー: 1px ソリッド 灰色 (#6C757D)
  - ボーダーラディウス: 4px
  - パディング: 10px
  - フォーカス時ボーダー: 1px ソリッド メインカラー (#007BFF)

#### レイアウト

##### ヘッダー

- 背景カラー: 濃い青 (#004085)
- テキストカラー: 白 (#FFFFFF)
- 高さ: 60px
- パディング: 0 20px

##### フッター

- 背景カラー: 濃い青 (#004085)
- テキストカラー: 白 (#FFFFFF)
- 高さ: 40px
- パディング: 10px 20px

##### ダッシュボード

- 背景カラー: 背景カラー (#FFFFFF)
- メインコンテンツ:
  - マージン: 20px
  - パディング: 20px
  - ボーダーラディウス: 4px
  - ボックスシャドウ: 0 2px 4px rgba(0, 0, 0, 0.1)

#### アイコン

- **カラー**: メインカラー (#007BFF)
- **サイズ**: 標準 24px、重要なアイコンは 32px

### SoundscapeOdyssey: 各ページの詳細な機能とコンポーネント

---

#### 1. ログインページ

**機能**:

- Google アカウントを使用したログイン。

**コンポーネント**:

- ログインボタン（Google アイコン付き）
- ログイン状態の確認とリダイレクトロジック

---

#### 2. ダッシュボード

**機能**:

- ユーザーの基本情報表示（Google アカウント情報）
- いいねした楽曲リストの表示と管理
- 楽曲検索へのリンク
- 管理画面へのリンク（管理者のみ表示）

**コンポーネント**:

- ユーザー情報カード
- いいねした楽曲リスト
  - 楽曲カード（タイトル、アーティスト名、アルバムアート、削除ボタン）
- 検索リンクボタン
- 管理画面リンク（条件付き表示）

---

#### 3. 楽曲検索ページ

**機能**:

- 楽曲名やアーティスト名で楽曲を検索
- 検索結果の表示

**コンポーネント**:

- 検索バー
- 検索ボタン
- 検索結果リスト
  - 楽曲カード（タイトル、アーティスト名、アルバムアート、再生ボタン、いいねボタン）

---

#### 4. 楽曲詳細ページ

**機能**:

- 楽曲の再生
- 楽曲のいいね追加または削除
- 楽曲情報の表示（タイトル、アーティスト名、アルバムアート、再生時間）

**コンポーネント**:

- 楽曲情報ディスプレイ
- 再生コントロールバー（再生、一時停止、スキップ、巻き戻し）
- いいねボタン

---

#### 5. いいねした楽曲ページ

**機能**:

- いいねした楽曲のリスト表示
- 楽曲の削除

**コンポーネント**:

- いいねした楽曲リスト
  - 楽曲カード（タイトル、アーティスト名、アルバムアート、削除ボタン）

---

#### 6. 管理画面

**機能**:

- ユーザー管理
  - 全ユーザーリストの表示
  - ユーザーのアカウント有効化・無効化
  - ユーザーのいいねした楽曲の確認と削除
- 楽曲管理
  - 全楽曲リストの表示
  - 楽曲の追加・削除
  - 楽曲情報の編集（タイトル、アーティスト名、アルバムアート）

**コンポーネント**:

- ユーザー管理セクション
  - ユーザーリストテーブル（ユーザー名、アカウント状態、いいねした楽曲、アクションボタン）
  - ユーザーのいいねした楽曲リスト（モーダル表示）
- 楽曲管理セクション
  - 楽曲リストテーブル（タイトル、アーティスト名、アルバムアート、アクションボタン）
  - 楽曲追加フォーム
  - 楽曲編集フォーム

---

#### ページごとのレイアウトおよびデザイン

**ヘッダー**:

- アプリのロゴ
- ナビゲーションリンク（ダッシュボード、検索、いいねした楽曲、管理画面）
- ログアウトボタン

**フッター**:

- サイトマップリンク
- 利用規約リンク
- プライバシーポリシーリンク

---
