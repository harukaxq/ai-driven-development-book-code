# フロントエンド-バックエンド統合ガイド

このガイドは、フロントエンドコンポーネントをバックエンドAPIと接続し、統合テストを作成し、音楽アプリのフロントエンドとバックエンド間のスムーズな通信を確保するのに役立ちます。

## ステップ1：レビューと計画

1. フロントエンドコンポーネント（`src/lib/components/`内）とバックエンドAPIエンドポイント（`src/routes/api/`内）をレビューします。
2. LLMを使用して統合を計画します。例：
   プロンプト：「ArtistCardとSongCardのSvelteフロントエンドコンポーネントと、アーティストと曲のバックエンドAPIエンドポイントを持つ音楽アプリがある場合、フロントエンドとバックエンド間の統合をどのように構築すべきですか？データフェッチング、状態管理、エラー処理を考慮してください。」

## ステップ2：フロントエンドでAPIコールを実装する

APIからデータが必要な各コンポーネントについて：

1. AIを使用してAPIコールの実装を支援してもらいます。例：
   プロンプト：「バックエンドからアーティストデータを取得するために、SvelteコンポーネントでAPIコールをどのように実装できますか？Svelteの onMount ライフサイクル関数と状態管理のためのストアの使用を考慮してください。」
2. 提案されたAPIコールロジックを実装し、AI生成のコードを批判的に確認して調整します。
3. AIにローディング状態とエラーの処理のベストプラクティスを提案してもらいます：
   プロンプト：「Svelteコンポーネントでローディング状態とAPIエラーを処理するためのベストプラクティスは何ですか？アーティストデータのフェッチングに対してこれらをどのように実装できますか？」
4. AI提案に基づいてローディング状態とエラー処理を実装します。

## ステップ3：APIデータでコンポーネントを更新する

1. APIからフェッチしたデータを使用するようにコンポーネントを修正します。AIに支援を求めます：
   プロンプト：「APIからフェッチしたデータを表示するために、ArtistCard Svelteコンポーネントをどのように更新すべきですか？リアクティブな宣言と効率的なレンダリングを考慮してください。」
2. 提案された変更を実装し、プロジェクトの要件に合致していることを確認します。
3. AIにSvelteアプリでの状態管理のベストプラクティスを提案してもらいます：
   プロンプト：「Svelteアプリでグローバル状態を管理するためのベストプラクティスは何ですか？現在再生中の曲やユーザー設定などを管理するために、音楽アプリでこれらをどのように実装できますか？」

## ステップ4：リアルタイム更新を実装する（該当する場合）

1. 音楽アプリがリアルタイム更新を必要とする場合（例：ライブプレイリストやチャット機能）、AIに実装戦略を提案してもらいます：
   プロンプト：「Svelte音楽アプリでリアルタイム更新をどのように実装できますか？WebSocketsやServer-Sent Eventsなどの技術とそれらのSvelteKitとの統合を考慮してください。」
2. 提案されたリアルタイム更新メカニズムを実装し、特定のニーズに適応させます。

## ステップ5：統合テストを作成する

1. 統合テストファイルを作成します（例：`tests/integration/artist_list.test.ts`）。
2. AIを使用して統合テストケースの生成を支援してもらいます：
   プロンプト：「フロントエンドのアーティストリストコンポーネントとバックエンドのアーティストAPIの間の相互作用をテストする音楽アプリの統合テストケースをどのように書くべきですか？正常系とエラーシナリオの両方を含めてください。」
3. AIを使用してテストフレームワークとアサーションの支援を受けながら、テストを実装します。
4. テストを実行し、AIを使用して失敗の解釈と修正を支援してもらいます。

## ステップ6：エラー処理とエッジケース

1. AIに統合におけるポテンシャルなエッジケースを提案してもらいます：
   プロンプト：「音楽ストリーミングアプリのフロントエンドとバックエンドの統合で考慮すべきエッジケースは何ですか？これらのケースをどのように処理できますか？」
2. AI提案に基づいて、ネットワーク問題、APIエラーなどのエラー処理を実装します。
3. これらのエッジケースをカバーするようにテストを更新します。

## ステップ7：パフォーマンス最適化

1. AIにフロントエンド-バックエンド統合のパフォーマンス最適化を提案してもらいます：
   プロンプト：「特にデータフェッチングとレンダリングの観点から、Svelte音楽アプリのパフォーマンスをどのように最適化できますか？ページネーション、遅延読み込み、キャッシングなどの技術を考慮してください。」
2. 提案された最適化を実装し、パフォーマンスへの影響を測定します。

## ステップ8：セキュリティの考慮事項

1. LLMにフロントエンド-バックエンド統合のセキュリティベストプラクティスについて尋ねます：
   プロンプト：「音楽ストリーミングアプリのSvelteフロントエンドとSvelteKitバックエンド間の統合で念頭に置くべきセキュリティ上の考慮事項は何ですか？これらのセキュリティ対策をどのように実装できますか？」
2. 提案されたセキュリティ対策を実装し、ユーザー体験に悪影響を与えないことを確認します。

統合を徹底的にテストすることを忘れないでください。正常系とエラーシナリオの両方を含めてください。AIを継続的に使用して問題解決、パフォーマンス最適化、ベストプラクティスの遵守を支援してもらいます。常にAI生成の提案を批判的に評価し、特定のプロジェクトのニーズに適応させてください。
